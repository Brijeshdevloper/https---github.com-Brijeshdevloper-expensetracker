{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/transactions/route.ts"],"sourcesContent":["'use server';\n\nimport { MongoClient, ServerApiVersion } from 'mongodb';\nimport { NextResponse } from 'next/server';\n\nconst uri = process.env.MONGODB_URI;\n\n// Create a MongoClient with a MongoClientOptions object to set the Stable API version\nconst client = new MongoClient(uri!, {\n  serverApi: {\n    version: ServerApiVersion.v1,\n    strict: true,\n    deprecationErrors: true,\n  }\n});\n\nasync function run() {\n  try {\n    // Connect the client to the server\t(optional starting in v4.7)\n    await client.connect();\n    // Send a ping to confirm a successful connection\n    await client.db(\"admin\").command({ ping: 1 });\n    console.log(\"Pinged your deployment. You successfully connected to MongoDB!\");\n  } catch(e){\n    console.log(e)\n  }\n}\nrun().catch(console.dir);\n\nexport async function POST(req: Request, res: NextResponse) {\n  try {\n    const body = await req.json();\n    // Validate the body as needed\n    const db = client.db('expense_tracker');\n    const transactions = db.collection('transactions');\n    const result = await transactions.insertOne(body);\n\n    return NextResponse.json({ result }, { status: 201 });\n  } catch (e) {\n    console.error(\"Error adding transaction:\", e);\n    return NextResponse.json({ error: \"Failed to add transaction\" }, { status: 500 });\n  }\n}\n\nexport async function GET(req: Request, res: NextResponse) {\n  try {\n    const db = client.db('expense_tracker');\n    const transactions = db.collection('transactions');\n    const allTransactions = await transactions.find({}).toArray();\n\n    return NextResponse.json(allTransactions, { status: 200 });\n  } catch (e) {\n    console.error(\"Error getting transactions:\", e);\n    return NextResponse.json({ error: \"Failed to get transactions\" }, { status: 500 });\n  }\n}\n\nexport async function DELETE(req: Request, res: NextResponse) {\n  try {\n    const id = req.nextUrl.searchParams.get(\"id\");\n    const db = client.db('expense_tracker');\n    const transactions = db.collection('transactions');\n    const result = await transactions.deleteOne({ _id:id });\n\n    return NextResponse.json({ result }, { status: 200 });\n  } catch (e) {\n    console.error(\"Error deleting transaction:\", e);\n    return NextResponse.json({ error: \"Failed to delete transaction\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AAEnC,sFAAsF;AACtF,MAAM,SAAS,IAAI,uGAAA,CAAA,cAAW,CAAC,KAAM;IACnC,WAAW;QACT,SAAS,uGAAA,CAAA,mBAAgB,CAAC,EAAE;QAC5B,QAAQ;QACR,mBAAmB;IACrB;AACF;AAEA,eAAe;IACb,IAAI;QACF,+DAA+D;QAC/D,MAAM,OAAO,OAAO;QACpB,iDAAiD;QACjD,MAAM,OAAO,EAAE,CAAC,SAAS,OAAO,CAAC;YAAE,MAAM;QAAE;QAC3C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAM,GAAE;QACR,QAAQ,GAAG,CAAC;IACd;AACF;AACA,MAAM,KAAK,CAAC,QAAQ,GAAG;AAEhB,eAAe,uCAAE,GAAF,KAAK,GAAY,EAAE,GAAiB;IACxD,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,8BAA8B;QAC9B,MAAM,KAAK,OAAO,EAAE,CAAC;QACrB,MAAM,eAAe,GAAG,UAAU,CAAC;QACnC,MAAM,SAAS,MAAM,aAAa,SAAS,CAAC;QAE5C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE;QAAO,GAAG;YAAE,QAAQ;QAAI;IACrD,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF;AAEO,eAAe,uCAAC,GAAD,IAAI,GAAY,EAAE,GAAiB;IACvD,IAAI;QACF,MAAM,KAAK,OAAO,EAAE,CAAC;QACrB,MAAM,eAAe,GAAG,UAAU,CAAC;QACnC,MAAM,kBAAkB,MAAM,aAAa,IAAI,CAAC,CAAC,GAAG,OAAO;QAE3D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,iBAAiB;YAAE,QAAQ;QAAI;IAC1D,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA6B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACF;AAEO,eAAe,uCAAI,GAAJ,OAAO,GAAY,EAAE,GAAiB;IAC1D,IAAI;QACF,MAAM,KAAK,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;QACxC,MAAM,KAAK,OAAO,EAAE,CAAC;QACrB,MAAM,eAAe,GAAG,UAAU,CAAC;QACnC,MAAM,SAAS,MAAM,aAAa,SAAS,CAAC;YAAE,KAAI;QAAG;QAErD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE;QAAO,GAAG;YAAE,QAAQ;QAAI;IACrD,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF;;;IAxCsB;IAeA;IAaA;;AA5BA,iPAAA;AAeA,iPAAA;AAaA,iPAAA","debugId":null}}]
}